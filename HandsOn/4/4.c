/*
============================================================================
Name : 4.c
Author : B Rahul
Description :  Write a program to open an existing file with read write mode. 
               Try O_EXCL flag also. 

Date: 11th Aug, 2023.
============================================================================
*/

/* 
============================================================================
------------------------------CODE------------------------------------------
============================================================================
*/

#include <stdio.h>
#include <sys/types.h>
#include <sys/stat.h>
#include <fcntl.h>

int main(){
    int fd = open("File.txt",O_RDWR|O_CREAT|O_EXCL,0777);
    if(fd<0){
        perror("failed to open");
    }
    printf("fd= %d\n",fd);
}


/* 
============================================================================
------------------------------OUTPUT----------------------------------------
============================================================================
Run : gcc 4.c
Run : ./a.out
    Output : fd=3
============================================================================
*/